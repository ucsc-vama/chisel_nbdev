---

title: Test Chisel notebook


keywords: chisel
sidebar: home_sidebar

summary: "An example that defines a module over multiple notebook cells."
description: "An example that defines a module over multiple notebook cells."
nb_path: "nbs/test.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/test.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We must first import our Chisel dependencies:</p>
<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">$file.</span><span class="o">^.</span><span class="n">source</span><span class="o">.</span><span class="n">load_ivy</span>
</pre></div>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">chisel3.{Input =&gt; Input}
</span>
<span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">chisel3._
</span>
<span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">chisel3.util._
</span>
<span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">chisel3.tester._
</span>
<span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">chisel3.iotesters.{ChiselFlatSpec, Driver, PeekPokeTester}
</span>
<span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">chisel3.tester.RawTester.{test =&gt; Test}</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="define-the-IO">define the IO<a class="anchor-link" href="#define-the-IO"> </a></h3><blockquote><p>If we define our IO as a standalone bundle we are able to reuse it for other modules</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">ALUIO (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ALUIO" class="doc_header"><code>ALUIO</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">ALUIO</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="A-skeleton-module-will-be-parent-class-of-all-of-our-methods">A skeleton module will be parent class of all of our methods<a class="anchor-link" href="#A-skeleton-module-will-be-parent-class-of-all-of-our-methods"> </a></h3><blockquote><p>This module currently has only IO defined. We will use Scala implicits to inject functionality into it.</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">ALUSkeleton (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ALUSkeleton" class="doc_header"><code>ALUSkeleton</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">ALUSkeleton</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="The-add-method-from-Add-class-will-be-injected-into-the-ALUSkeleton-class">The add method from Add class will be injected into the ALUSkeleton class<a class="anchor-link" href="#The-add-method-from-Add-class-will-be-injected-into-the-ALUSkeleton-class"> </a></h3><blockquote><p>This syntax will be used to inject the <code>add</code> method into our skeleton module:<code>Scalaclass Add(m: ALUSkeleton) {
    def add(a: SInt, b: SInt): SInt = a +&amp; b
}</code></p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">Add (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Add" class="doc_header"><code>Add</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">add (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="add" class="doc_header"><code>add</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Add</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Similarly we can define a <code>sub</code> method that will be added</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">Sub (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Sub" class="doc_header"><code>Sub</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">sub (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="sub" class="doc_header"><code>sub</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>changed auto-gen file
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Sub</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Here-multiple-methods-will-be-injected">Here multiple methods will be injected<a class="anchor-link" href="#Here-multiple-methods-will-be-injected"> </a></h3><blockquote><p>Both <code>mul</code> and <code>div</code> will be injected.</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">MulDiv (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="MulDiv" class="doc_header"><code>MulDiv</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">mul (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="mul" class="doc_header"><code>mul</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">div (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="div" class="doc_header"><code>div</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">MulDiv</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Adding-the-methods-to-our-skeleton-module:">Adding the methods to our skeleton module:<a class="anchor-link" href="#Adding-the-methods-to-our-skeleton-module:"> </a></h3><blockquote><p>implicit def call will add the methods of the RHS classes to the implicit def parameter:ALUSkeleton class.Note the name <code>includeAdd</code> does not matter as it won't be called again, but is good practice to give it a clear name of what it is doing (i.e includAdd &lt;=&gt; include the Add class' methods)</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">includeAdd (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="includeAdd" class="doc_header"><code>includeAdd</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">includeSub (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="includeSub" class="doc_header"><code>includeSub</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">includeMulDiv (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="includeMulDiv" class="doc_header"><code>includeMulDiv</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">includeAdd</span>
defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">includeSub</span>
defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">includeMulDiv</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Use-our-implicitly-defined-functions">Use our implicitly defined functions<a class="anchor-link" href="#Use-our-implicitly-defined-functions"> </a></h3><p>We extend our ALUSkeleton giving us access to all of our implicitly defined methods. We can match based on parameterized operator (at compile time) and then only instantiate hardware for that given operation.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">Operator (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Operator" class="doc_header"><code>Operator</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Operator</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Summary">Summary<a class="anchor-link" href="#Summary"> </a></h3><blockquote><p>While this includes a few more steps than simply implementing everything directly into an Operator module, it can actually save some headaches when building much larger moudules. The best case for developing this way is if you're defining a specific arithmetic implmentation, which this example was meant to outline. For example a multiplier may require many sub methods to implement, and these implementation details can be hidden from the module using it. Also working like this puts you in the mindset of pulling out independent pieces of logic to write functions for that can later be reused in other modules.</p>
</blockquote>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">OperatorTester (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="OperatorTester" class="doc_header"><code>OperatorTester</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">Tester</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Some-test-funcs/classes/objects-to-be-exported-from-this-notebook:">Some test funcs/classes/objects to be exported from this notebook:<a class="anchor-link" href="#Some-test-funcs/classes/objects-to-be-exported-from-this-notebook:"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">FuncToNewScript (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="FuncToNewScript" class="doc_header"><code>FuncToNewScript</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">FuncToNewScript2 (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="FuncToNewScript2" class="doc_header"><code>FuncToNewScript2</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">TestObj (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="TestObj" class="doc_header"><code>TestObj</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">LotsOfParams (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="LotsOfParams" class="doc_header"><code>LotsOfParams</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="">testTypeParams (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="testTypeParams" class="doc_header"><code>testTypeParams</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">function</span> <span class="ansi-cyan-fg">testTypeParams</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">LotsOfApply</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">{}</span>
<span class="nb">object</span> <span class="n">LotsOfApply</span> <span class="p">{</span>
    <span class="k">def</span> <span class="nf">apply</span><span class="p">:</span> <span class="n">LotsOfApply</span> <span class="o">=</span> <span class="n">new</span> <span class="n">LotsOfApply</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">apply</span><span class="p">(</span><span class="n">a</span><span class="p">:</span> <span class="n">Int</span><span class="p">):</span> <span class="n">LotsOfApply</span> <span class="o">=</span> <span class="n">new</span> <span class="n">LotsOfApply</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">LotsOfApply</span>
defined <span class="ansi-green-fg">object</span> <span class="ansi-cyan-fg">LotsOfApply</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

