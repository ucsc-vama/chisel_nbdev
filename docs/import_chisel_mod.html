---

title: Title


keywords: chisel
sidebar: home_sidebar



nb_path: "nbs/import_chisel_mod.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/import_chisel_mod.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Import-the-module-we-defined-in-ToImport.ipynb-renamed-to--&gt;-ModA.sc">Import the module we defined in ToImport.ipynb renamed to -&gt; ModA.sc<a class="anchor-link" href="#Import-the-module-we-defined-in-ToImport.ipynb-renamed-to--&gt;-ModA.sc"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">$file.$           , ModA._</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Call-the-load_ivy-script.">Call the load_ivy script.<a class="anchor-link" href="#Call-the-load_ivy-script."> </a></h3><p>Located in the source folder, the load_ivy.sc script will use ammonite to download snapshots of the chisel libraries, to be cached on your system. This is necessary for EVERY chisel notebook so we can then import our chisel libraries like we would in an SBT project structure.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">$file.$                </span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Prevent-namespace-error">Prevent namespace error<a class="anchor-link" href="#Prevent-namespace-error"> </a></h3><ul>
<li>To prevent an ambiguous reference to 'Input' by chisel3.Input and <em>root</em>.almond.input.Input, we have to make sure that we rename our chisel3 Input on import. It suffices to do as follows without requiring to change the name to something like IInput:<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">chisel3.</span><span class="o">{</span><span class="nc">Input</span> <span class="o">=&gt;</span> <span class="nc">Input</span><span class="o">}</span>
</pre></div>
</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre><span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">chisel3.{Input =&gt; Input}
</span>
<span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">chisel3._
</span>
<span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">chisel3.util._
</span>
<span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">chisel3.tester._
</span>
<span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">chisel3.iotesters.{ChiselFlatSpec, Driver, PeekPokeTester}
</span>
<span class="ansi-green-fg">import </span><span class="ansi-cyan-fg">chisel3.tester.RawTester.test</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Importing-chisel-modules-from-.sc-files">Importing chisel modules from .sc files<a class="anchor-link" href="#Importing-chisel-modules-from-.sc-files"> </a></h3><p>To import the scripts contents as a single object do:</p>
<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">$file.filename</span>
<span class="n">filename</span><span class="o">.</span><span class="nc">Blah</span><span class="o">()</span>
</pre></div>
<p>To import all of the scripts contents do:</p>
<div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">$file.filename</span><span class="o">,</span> <span class="n">filename</span><span class="o">.</span><span class="k">_</span>
<span class="nc">Blah</span><span class="o">()</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can now try and test our module to see if we imported it correctly:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span><span class="p">(</span><span class="n">new</span> <span class="n">Add</span><span class="p">)</span> <span class="p">{</span> <span class="n">c</span> <span class="o">=&gt;</span>
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">poke</span><span class="p">(</span><span class="mf">1.</span><span class="n">U</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">poke</span><span class="p">(</span><span class="mf">2.</span><span class="n">U</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">clock</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">expect</span><span class="p">(</span><span class="mf">3.</span><span class="n">U</span><span class="p">)</span>
    
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">poke</span><span class="p">(</span><span class="mf">5.</span><span class="n">U</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">poke</span><span class="p">(</span><span class="mf">2.</span><span class="n">U</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">clock</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">expect</span><span class="p">(</span><span class="mf">7.</span><span class="n">U</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[<span class="ansi-magenta-fg">info</span>] [0.001] Elaborating design...
[<span class="ansi-magenta-fg">info</span>] [1.297] Done elaborating.
file loaded in 0.035916667 seconds, 7 symbols, 3 statements
test Add Success: 0 tests passed in 4 cycles in 0.051422 seconds 77.79 Hz
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Lets use this module to build another module:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>ComposedModule
</pre>
</div>
</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<p><a href="https://nbviewer.jupyter.org/github/ucsc-vama/chisel-nbdevnbs/import_chisel_mod.ipynb#Import-the-module-we-defined-in-ToImport.ipynb-renamed-to--&gt;-ModA.sc">ComposedModule (GitHub)</a></p>

</div>

</div>

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="ComposedModule" class="doc_header"><code>ComposedModule</code><a href="None" class="source_link" style="float:right">[source]</a></h2>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>defined <span class="ansi-green-fg">class</span> <span class="ansi-cyan-fg">ComposedModule</span></pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span><span class="p">(</span><span class="n">new</span> <span class="n">ComposedModule</span><span class="p">)</span> <span class="p">{</span> <span class="n">c</span> <span class="o">=&gt;</span>
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">poke</span><span class="p">(</span><span class="mf">1.</span><span class="n">U</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">poke</span><span class="p">(</span><span class="mf">2.</span><span class="n">U</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">poke</span><span class="p">(</span><span class="mf">3.</span><span class="n">U</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">clock</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">expect</span><span class="p">(</span><span class="mf">6.</span><span class="n">U</span><span class="p">)</span>
    
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">a</span><span class="o">.</span><span class="n">poke</span><span class="p">(</span><span class="mf">5.</span><span class="n">U</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">poke</span><span class="p">(</span><span class="mf">2.</span><span class="n">U</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">poke</span><span class="p">(</span><span class="mf">7.</span><span class="n">U</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">clock</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>    
    <span class="n">c</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">out</span><span class="o">.</span><span class="n">expect</span><span class="p">(</span><span class="mf">14.</span><span class="n">U</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[<span class="ansi-magenta-fg">info</span>] [0.001] Elaborating design...
[<span class="ansi-magenta-fg">info</span>] [0.180] Done elaborating.
file loaded in 0.007460458 seconds, 13 symbols, 7 statements
test ComposedModule Success: 0 tests passed in 4 cycles in 0.014604 seconds 273.90 Hz
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

